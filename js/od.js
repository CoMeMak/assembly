function testEllipse(x_tgt, x_upo, y_upo, x_dwno, y_dwno, b, n)
{
	h = x_tgt / 2;
	k = 0;
	test = 0;
	
	test1 = Math.pow(Math.abs(x_upo - h),n) / Math.pow((x_tgt/2),n) + Math.pow(Math.abs(y_upo - k),n) / Math.pow(b,n)
	test2 = Math.pow(Math.abs(x_dwno - h),n) / Math.pow((x_tgt/2),n) + Math.pow(Math.abs(y_dwno - k),n) / Math.pow(b,n)
	
	if(isNaN(test))
	{
		console.log(test);
	}
	
	if(test1 > test2) return test1;
	return test2;	
}

function evaluateArc(x_tgt,b,n)
{
	var old_y = 0;
	var arc = 0;
	for (var j=1; j<=100;j++)
	{
		x = j - 50;
		y = b * Math.pow((1 - Math.pow(Math.abs(x/(x_tgt/2)),n)),(1/n));
		if(j == 1)
		{
			arc = arc + Math.sqrt(y*y + 1) 
		}
		else
		{
			arc = arc + Math.sqrt((y - old_y)*(y - old_y) + 1) 
		}
		old_y = y;
	}	
	return arc;
}

function ellipseParams(x_tgt, x_upo, y_upo, x_dwno, y_dwno)
{
	var best_b = -1;
	var best_n = -1;
	var best_arc = 1000000;
 	var n = 10;
	
    while(true)
        {
            n = n - 0.1;
			if(n < 1)
			{
				break;				
			}
			var b = Math.max(y_upo, y_dwno) + 10;
            
            while(true)
			{
				b = b - 0.1;
				if(b < Math.max(y_upo, y_dwno))
				{
					b = Math.max(y_upo, y_dwno) + 0.5;
					break;					
				}
				test = testEllipse(x_tgt, x_upo, y_upo, x_dwno, y_dwno, b, n);
				if(test > 1.001)
				{
					b = b + 0.5;
					break;
				}
				else
				{
					var arc = evaluateArc(x_tgt,b,n);
						if(arc < best_arc)
						{
							best_arc = arc;
							best_b = b;
							best_n = n;							
						}
					
				}
			}
			
			
        }

        
	return [best_b,best_n];
}

function generateEllipsePoints(x_tgt,b,n)
{
	x = [];
	y = [];
	for (var j=0; j<101; j++){
		// abs( y / b ) ^ 3 = 1 - abs( x / a ) ^ 3
		x[j] = j - 50;
		y[j] = b * Math.pow((1 - Math.pow(Math.abs(x[j]/(x_tgt/2)),n)),(1/n));   
		x[j] = j;
	} 
	
	return {x: x, y: y};
}

function timeout(ms) {
    return new Promise(resolve => setTimeout(resolve, ms));
}

var jnn = '{"sizes":[4,32,32,16,2],"layers":[{"0":{},"1":{},"2":{},"3":{}},{"0":{"bias":0.1621014028787613,"weights":{"0":-0.05942346155643463,"1":-2.195047616958618,"2":0.6306086778640747,"3":-2.2419261932373047}},"1":{"bias":-0.5240287184715271,"weights":{"0":-0.11081308126449585,"1":0.1691899299621582,"2":0.09311899542808533,"3":0.26565811038017273}},"2":{"bias":0.20941348373889923,"weights":{"0":-0.2955566644668579,"1":-0.8002834916114807,"2":-0.10059396177530289,"3":-0.8239122629165649}},"3":{"bias":-1.315230369567871,"weights":{"0":0.14062465727329254,"1":1.0108948945999146,"2":0.2936854660511017,"3":1.195232629776001}},"4":{"bias":-0.13551731407642365,"weights":{"0":-0.5084570050239563,"1":-0.17122089862823486,"2":-0.08788735419511795,"3":-0.06461142003536224}},"5":{"bias":-0.5572231411933899,"weights":{"0":-1.2347259521484375,"1":0.8119863867759705,"2":-1.5203157663345337,"3":0.3918791711330414}},"6":{"bias":-0.26008886098861694,"weights":{"0":0.26630252599716187,"1":-1.9038314819335938,"2":0.5800235271453857,"3":-1.9126241207122803}},"7":{"bias":-2.4246127605438232,"weights":{"0":0.0400044322013855,"1":1.049489974975586,"2":2.0504021644592285,"3":0.803202748298645}},"8":{"bias":0.23619329929351807,"weights":{"0":-0.23327085375785828,"1":-1.0436009168624878,"2":-0.06772150099277496,"3":-1.0733267068862915}},"9":{"bias":-0.020269567146897316,"weights":{"0":-0.22467970848083496,"1":-0.694625735282898,"2":-0.16370311379432678,"3":-0.723344624042511}},"10":{"bias":0.42171552777290344,"weights":{"0":-0.43042391538619995,"1":-0.28237882256507874,"2":-0.46721917390823364,"3":-0.33252787590026855}},"11":{"bias":-0.2535383701324463,"weights":{"0":-0.20488958060741425,"1":-0.4404755234718323,"2":-0.016749486327171326,"3":-0.4919045865535736}},"12":{"bias":-0.015057294629514217,"weights":{"0":-0.2087986022233963,"1":-0.42340558767318726,"2":-0.41437602043151855,"3":-0.4661232531070709}},"13":{"bias":-0.7855002284049988,"weights":{"0":0.3074742555618286,"1":0.8070653080940247,"2":-0.6050761938095093,"3":0.8727466464042664}},"14":{"bias":-1.6597249507904053,"weights":{"0":-0.9605307579040527,"1":0.23315979540348053,"2":1.5705281496047974,"3":0.6755319833755493}},"15":{"bias":0.35279813408851624,"weights":{"0":-0.2718592584133148,"1":-0.7814489006996155,"2":-0.2017531394958496,"3":-0.8398825526237488}},"16":{"bias":-0.13710777461528778,"weights":{"0":-0.0959448516368866,"1":-1.1841754913330078,"2":0.25246766209602356,"3":-1.2590144872665405}},"17":{"bias":-1.7346514463424683,"weights":{"0":-0.007346016820520163,"1":0.7314454317092896,"2":2.4628777503967285,"3":-0.5170677304267883}},"18":{"bias":1.0351307392120361,"weights":{"0":-4.540091514587402,"1":-0.227529838681221,"2":0.18482045829296112,"3":2.2352731227874756}},"19":{"bias":-0.15507324039936066,"weights":{"0":-0.061364393681287766,"1":-1.2144689559936523,"2":0.2162635624408722,"3":-1.260286569595337}},"20":{"bias":-2.0349717140197754,"weights":{"0":0.3791366219520569,"1":0.6095966696739197,"2":1.6245319843292236,"3":0.37933093309402466}},"21":{"bias":-2.0491943359375,"weights":{"0":3.5416619777679443,"1":-0.8689990639686584,"2":-0.15467429161071777,"3":2.0277721881866455}},"22":{"bias":-0.19137923419475555,"weights":{"0":-0.16445690393447876,"1":-0.6824626922607422,"2":0.018255969509482384,"3":-0.7479277849197388}},"23":{"bias":-1.4663437604904175,"weights":{"0":0.08409743756055832,"1":-9.029122352600098,"2":-0.77276211977005,"3":9.325361251831055}},"24":{"bias":-0.33608782291412354,"weights":{"0":-0.3217581510543823,"1":0.3304523527622223,"2":-0.5356637239456177,"3":0.046581801027059555}},"25":{"bias":-0.2267913967370987,"weights":{"0":0.43124130368232727,"1":-2.166193723678589,"2":0.6937053203582764,"3":-2.1884942054748535}},"26":{"bias":0.1955738067626953,"weights":{"0":-0.2717497944831848,"1":-0.3302858769893646,"2":-0.504687488079071,"3":-0.3517267405986786}},"27":{"bias":-0.2503863275051117,"weights":{"0":-0.23118813335895538,"1":-0.3613092303276062,"2":-0.2519511580467224,"3":-0.3935934901237488}},"28":{"bias":-0.7568573951721191,"weights":{"0":-0.06821036338806152,"1":0.4061584770679474,"2":0.29603907465934753,"3":0.43295037746429443}},"29":{"bias":-0.5261929035186768,"weights":{"0":-0.42546334862709045,"1":-0.034919653087854385,"2":-0.15789541602134705,"3":-0.00521695613861084}},"30":{"bias":0.037635136395692825,"weights":{"0":-0.3378482460975647,"1":-0.289734423160553,"2":-0.29611220955848694,"3":-0.3718726634979248}},"31":{"bias":0.30904603004455566,"weights":{"0":-0.02936910279095173,"1":6.188129425048828,"2":-1.1836365461349487,"3":-8.376053810119629}}},{"0":{"bias":-0.12739846110343933,"weights":{"0":-0.25998789072036743,"1":-0.0881187841296196,"2":-0.03965515270829201,"3":0.11050990223884583,"4":0.13549275696277618,"5":-0.018309127539396286,"6":-0.2861090302467346,"7":0.4307054281234741,"8":-0.04345305263996124,"9":-0.33507218956947327,"10":-0.08505422621965408,"11":-0.10608676820993423,"12":-0.21793678402900696,"13":-0.1381361484527588,"14":0.6005052924156189,"15":-0.32298940420150757,"16":-0.22782081365585327,"17":0.6724361181259155,"18":0.7112262845039368,"19":-0.29044339060783386,"20":0.32944241166114807,"21":0.5547686815261841,"22":-0.020538924261927605,"23":2.3998658657073975,"24":-0.20651155710220337,"25":0.0016746169421821833,"26":-0.36565274000167847,"27":-0.2024952620267868,"28":-0.13865014910697937,"29":-0.16589677333831787,"30":-0.05467886105179787,"31":1.4665181636810303}},"1":{"bias":0.29223641753196716,"weights":{"0":0.415973424911499,"1":-0.10307029634714127,"2":-0.0006547687808051705,"3":-0.1324884444475174,"4":0.18402926623821259,"5":-0.09711404889822006,"6":0.43116384744644165,"7":-0.3043958246707916,"8":0.08181042224168777,"9":0.2771967053413391,"10":0.10267235338687897,"11":0.08511202782392502,"12":-0.10357730090618134,"13":-0.23454056680202484,"14":-0.25725772976875305,"15":0.1568794548511505,"16":0.04376494139432907,"17":-0.09660105407238007,"18":-0.34136155247688293,"19":0.056602004915475845,"20":0.05593504011631012,"21":-0.25493907928466797,"22":0.27209898829460144,"23":-0.5869817137718201,"24":-0.07240498811006546,"25":0.4774287939071655,"26":0.2236413210630417,"27":0.17394015192985535,"28":0.08268458396196365,"29":-0.06867054104804993,"30":0.1333148330450058,"31":-0.9297544956207275}},"2":{"bias":0.11154473572969437,"weights":{"0":0.5698577165603638,"1":-0.07653778791427612,"2":0.3335331082344055,"3":-0.15464359521865845,"4":-0.10769424587488174,"5":-0.49628588557243347,"6":0.5407571196556091,"7":-0.3363570272922516,"8":0.07242025434970856,"9":0.1336321383714676,"10":0.247956782579422,"11":0.11584555357694626,"12":-0.06790076941251755,"13":-0.10407626628875732,"14":-0.006367165595293045,"15":0.1729488968849182,"16":0.27976810932159424,"17":-0.16975389420986176,"18":-0.37076064944267273,"19":0.14776110649108887,"20":0.04691992327570915,"21":-0.38363710045814514,"22":0.15475979447364807,"23":-0.5531652569770813,"24":-0.19926558434963226,"25":0.40216004848480225,"26":0.26533639430999756,"27":0.0458853505551815,"28":-0.10423868894577026,"29":-0.0937231257557869,"30":0.07813568413257599,"31":-0.6665953993797302}},"3":{"bias":0.0008384989923797548,"weights":{"0":-0.3363807201385498,"1":0.09661981463432312,"2":-0.23273272812366486,"3":-0.0482177734375,"4":-0.22463567554950714,"5":0.08832116425037384,"6":-0.43102505803108215,"7":0.3165719509124756,"8":-0.3646438717842102,"9":-0.19127412140369415,"10":-0.2782638669013977,"11":-0.2349492311477661,"12":-0.33915427327156067,"13":0.08046029508113861,"14":0.1551174819469452,"15":-0.2795325517654419,"16":-0.03758259862661362,"17":0.284521222114563,"18":0.5405600070953369,"19":-0.19087190926074982,"20":0.4561585485935211,"21":0.525977611541748,"22":-0.12099491059780121,"23":1.5403504371643066,"24":-0.03890746086835861,"25":-0.30249932408332825,"26":-0.26088428497314453,"27":-0.25235119462013245,"28":0.05935823544859886,"29":-0.05994582176208496,"30":-0.24060848355293274,"31":1.2895113229751587}},"4":{"bias":-0.08517748862504959,"weights":{"0":-0.11377179622650146,"1":-0.10947603732347488,"2":-0.020455345511436462,"3":0.12092018872499466,"4":-0.04340878129005432,"5":0.16146673262119293,"6":0.015688147395849228,"7":0.4637828767299652,"8":-0.08543618768453598,"9":-0.2979983687400818,"10":-0.07436471432447433,"11":0.042664896696805954,"12":-0.3277178704738617,"13":-0.1795756071805954,"14":0.28030720353126526,"15":-0.31109392642974854,"16":-0.18452300131320953,"17":0.7001631855964661,"18":0.7022542357444763,"19":-0.32891663908958435,"20":0.5945674777030945,"21":0.19465649127960205,"22":-0.15029381215572357,"23":2.530054807662964,"24":-0.21203193068504333,"25":-0.3595774471759796,"26":-0.10614121705293655,"27":-0.1778753399848938,"28":0.17872391641139984,"29":-0.20879092812538147,"30":-0.11656184494495392,"31":1.1268856525421143}},"5":{"bias":0.056695640087127686,"weights":{"0":-1.2915189266204834,"1":0.046697188168764114,"2":-0.3714607059955597,"3":0.8392413258552551,"4":0.18778690695762634,"5":1.001937747001648,"6":-1.169460415840149,"7":0.7034005522727966,"8":-0.652631402015686,"9":-0.21229185163974762,"10":0.07880762964487076,"11":-0.2038310468196869,"12":0.02462075650691986,"13":0.8139932751655579,"14":0.5599684715270996,"15":-0.4626235365867615,"16":-0.8258892297744751,"17":-0.07015681266784668,"18":1.1351330280303955,"19":-0.854686439037323,"20":0.5254625082015991,"21":1.2189576625823975,"22":-0.3609011471271515,"23":0.6904001235961914,"24":0.37112781405448914,"25":-1.2838860750198364,"26":-0.04698147624731064,"27":-0.13506725430488586,"28":0.19110339879989624,"29":-0.033292919397354126,"30":-0.0763838067650795,"31":1.4967014789581299}},"6":{"bias":-0.27274641394615173,"weights":{"0":0.04168021306395531,"1":-0.07252996414899826,"2":0.06139989197254181,"3":-0.13421513140201569,"4":0.14304642379283905,"5":-0.010558802634477615,"6":0.04100066050887108,"7":0.049803800880908966,"8":-0.19561012089252472,"9":-0.01243151631206274,"10":-0.18090765178203583,"11":-0.003537486307322979,"12":-0.04726690426468849,"13":-0.2192826271057129,"14":-0.046013541519641876,"15":0.10533098876476288,"16":0.0008632154203951359,"17":0.06248860061168671,"18":-0.015481540933251381,"19":-0.0015851829666644335,"20":0.2315894514322281,"21":-0.2586229741573334,"22":-0.214279904961586,"23":0.3671635687351227,"24":-0.07186074554920197,"25":-0.061763014644384384,"26":-0.2439223825931549,"27":-0.19496940076351166,"28":0.018031122162938118,"29":0.058295611292123795,"30":-0.01779749244451523,"31":0.26756206154823303}},"7":{"bias":-0.26520243287086487,"weights":{"0":0.47479116916656494,"1":0.09026960283517838,"2":0.17774373292922974,"3":-0.011803150177001953,"4":-0.025654103606939316,"5":-0.16396348178386688,"6":0.33520135283470154,"7":-0.24682243168354034,"8":-0.048907358199357986,"9":0.03169000521302223,"10":-0.27933576703071594,"11":0.08335980772972107,"12":-0.2092001736164093,"13":-0.23673011362552643,"14":-0.16195803880691528,"15":-0.167200967669487,"16":0.2078481912612915,"17":0.16970624029636383,"18":-0.5028053522109985,"19":0.2793014645576477,"20":0.13835635781288147,"21":-0.23863354325294495,"22":0.14880526065826416,"23":0.09247902780771255,"24":-0.10647685080766678,"25":0.3967188000679016,"26":-0.13428807258605957,"27":-0.05756892263889313,"28":-0.07295504957437515,"29":0.04950498417019844,"30":-0.17796723544597626,"31":-0.08375518769025803}},"8":{"bias":-0.3162401616573334,"weights":{"0":-0.27809083461761475,"1":0.12633971869945526,"2":-0.57634437084198,"3":0.2718901038169861,"4":-0.4282998740673065,"5":0.22641238570213318,"6":-0.21165920794010162,"7":1.0315203666687012,"8":-0.512767493724823,"9":-0.4910537898540497,"10":-0.5787935853004456,"11":-0.09830562025308609,"12":-0.3896022140979767,"13":0.20812615752220154,"14":0.4177551567554474,"15":-0.41617119312286377,"16":-0.18697701394557953,"17":1.147864818572998,"18":0.43349209427833557,"19":-0.31535375118255615,"20":0.9875948429107666,"21":1.0233933925628662,"22":-0.1840708702802658,"23":3.064241409301758,"24":-0.33824393153190613,"25":-0.15990111231803894,"26":-0.5175054669380188,"27":-0.3568384647369385,"28":0.14023615419864655,"29":-0.32515832781791687,"30":-0.30944210290908813,"31":3.3093113899230957}},"9":{"bias":-0.04466256871819496,"weights":{"0":-0.12925532460212708,"1":0.06853751838207245,"2":-0.33176156878471375,"3":-0.1855390965938568,"4":0.020702725276350975,"5":0.03835869953036308,"6":-0.045034583657979965,"7":0.2200033962726593,"8":-0.1553831547498703,"9":-0.18364866077899933,"10":0.013506295159459114,"11":-0.26236674189567566,"12":-0.01891547068953514,"13":0.039740271866321564,"14":0.1864156424999237,"15":-0.35554787516593933,"16":-0.14364883303642273,"17":0.19369937479496002,"18":0.1643647700548172,"19":-0.28397220373153687,"20":0.21979261934757233,"21":0.20327678322792053,"22":-0.028538206592202187,"23":0.7094544768333435,"24":-0.07344669848680496,"25":-0.18721096217632294,"26":-0.15541574358940125,"27":0.06523974239826202,"28":-0.017463253811001778,"29":-0.11337896436452866,"30":-0.06734772771596909,"31":0.5211464166641235}},"10":{"bias":0.07134556770324707,"weights":{"0":0.004752603359520435,"1":-0.005067351274192333,"2":0.09471295773983002,"3":-0.2039952278137207,"4":-0.09551264345645905,"5":-0.21256881952285767,"6":-0.17163053154945374,"7":0.12092219293117523,"8":0.0568317174911499,"9":-0.10391508787870407,"10":-0.1701928973197937,"11":-0.019686270505189896,"12":-0.20475484430789948,"13":-0.22377373278141022,"14":0.051081929355859756,"15":0.026339173316955566,"16":0.11498890817165375,"17":-0.11905373632907867,"18":0.06931211054325104,"19":0.10507099330425262,"20":0.23159532248973846,"21":-0.12034238874912262,"22":-0.2233877331018448,"23":0.4626449942588806,"24":-0.2620442509651184,"25":-0.1662878692150116,"26":-0.18944072723388672,"27":0.011367588303983212,"28":0.031347788870334625,"29":-0.20954225957393646,"30":-0.23987248539924622,"31":0.13271237909793854}},"11":{"bias":-0.11093106865882874,"weights":{"0":-0.06784171611070633,"1":-0.06424732506275177,"2":-0.1603858768939972,"3":0.004949465859681368,"4":0.03257783502340317,"5":-0.1262497752904892,"6":-0.0671851709485054,"7":0.49011388421058655,"8":-0.313974529504776,"9":-0.1062266007065773,"10":-0.29825353622436523,"11":-0.19678932428359985,"12":-0.38368290662765503,"13":-0.3507058322429657,"14":0.6664150953292847,"15":-0.16741566359996796,"16":-0.25067299604415894,"17":0.997305154800415,"18":1.0082508325576782,"19":0.07110702991485596,"20":0.7238497734069824,"21":0.44862163066864014,"22":-0.13660655915737152,"23":3.432785987854004,"24":-0.08769100159406662,"25":-0.23400355875492096,"26":-0.42692098021507263,"27":-0.02097768895328045,"28":0.08656976372003555,"29":0.06232084333896637,"30":-0.29333558678627014,"31":1.4040788412094116}},"12":{"bias":-0.37444472312927246,"weights":{"0":-0.25852590799331665,"1":-0.08156777173280716,"2":-0.20634908974170685,"3":-0.0006673627067357302,"4":-0.16205920279026031,"5":-0.0654003694653511,"6":-0.3438447117805481,"7":0.07760515809059143,"8":-0.20020881295204163,"9":-0.2294548749923706,"10":-0.057699449360370636,"11":0.0013555199839174747,"12":-0.009571360424160957,"13":0.004122427199035883,"14":0.13836261630058289,"15":-0.07217435538768768,"16":-0.11991558969020844,"17":-0.08482161909341812,"18":-0.04900391772389412,"19":-0.21393835544586182,"20":0.2170935571193695,"21":-0.1205962598323822,"22":-0.12048302590847015,"23":0.6546545624732971,"24":0.013204538263380527,"25":-0.32458576560020447,"26":-0.04357926547527313,"27":-0.26119759678840637,"28":-0.04694086313247681,"29":-0.02470511756837368,"30":0.013016365468502045,"31":0.33535683155059814}},"13":{"bias":-0.3646026849746704,"weights":{"0":-0.1463606208562851,"1":0.12129517644643784,"2":-0.04836875572800636,"3":0.11954284459352493,"4":-0.001058059511706233,"5":0.0358181968331337,"6":-0.06542552262544632,"7":0.4142930805683136,"8":-0.11548665165901184,"9":-0.2954806983470917,"10":-0.36187928915023804,"11":0.023893272504210472,"12":0.046874526888132095,"13":-0.2596284747123718,"14":0.13216069340705872,"15":-0.1344917118549347,"16":-0.12337561696767807,"17":0.5402779579162598,"18":0.2673300504684448,"19":-0.046250272542238235,"20":0.22749054431915283,"21":0.2492896020412445,"22":-0.2609834671020508,"23":1.6533541679382324,"24":-0.321763813495636,"25":-0.026576142758131027,"26":-0.05656183138489723,"27":-0.029020806774497032,"28":0.044050879776477814,"29":-0.09070499241352081,"30":-0.3264598846435547,"31":1.120982050895691}},"14":{"bias":-0.11928407102823257,"weights":{"0":0.02956504002213478,"1":0.03980652987957001,"2":-0.15928220748901367,"3":-0.1783032864332199,"4":-0.07810623198747635,"5":0.1747443974018097,"6":-0.23812122642993927,"7":0.2514263987541199,"8":-0.06581878662109375,"9":-0.03657405450940132,"10":-0.18336428701877594,"11":-0.0007829112582840025,"12":-0.3962436318397522,"13":-0.18530531227588654,"14":0.27287405729293823,"15":-0.3071989417076111,"16":0.029404442757368088,"17":0.31955429911613464,"18":0.07891376316547394,"19":-0.20812852680683136,"20":0.394704669713974,"21":-0.07473169267177582,"22":-0.08687864989042282,"23":1.2371801137924194,"24":-0.33057042956352234,"25":-0.36903464794158936,"26":-0.3326028287410736,"27":-0.06004921719431877,"28":0.08462890237569809,"29":0.11257482320070267,"30":-0.16177131235599518,"31":0.7764213681221008}},"15":{"bias":0.13841865956783295,"weights":{"0":0.38540005683898926,"1":0.059385642409324646,"2":0.17398925125598907,"3":-0.2638015151023865,"4":0.007510077208280563,"5":-0.25999724864959717,"6":0.28817886114120483,"7":-0.32798266410827637,"8":0.15350152552127838,"9":0.23251725733280182,"10":0.10477354377508163,"11":0.0555991604924202,"12":-0.002446155995130539,"13":-0.319651335477829,"14":-0.005411168560385704,"15":0.21632693707942963,"16":0.26514294743537903,"17":-0.08277786523103714,"18":-0.3641546070575714,"19":0.11632385849952698,"20":-0.0035895260516554117,"21":-0.39285480976104736,"22":0.1825275868177414,"23":-0.3486466407775879,"24":-0.215545192360878,"25":0.4756195545196533,"26":-0.17171992361545563,"27":-0.12122724205255508,"28":-0.1741982400417328,"29":0.027315787971019745,"30":0.05232517048716545,"31":-0.3850110173225403}},"16":{"bias":-0.32767507433891296,"weights":{"0":-0.5862881541252136,"1":0.08950118720531464,"2":-0.5021997690200806,"3":0.33195650577545166,"4":-0.2499304711818695,"5":0.6510488986968994,"6":-0.731190025806427,"7":0.7172026038169861,"8":-0.2912617623806,"9":-0.2238730937242508,"10":-0.39244282245635986,"11":-0.2890397906303406,"12":-0.3702090382575989,"13":0.03908056765794754,"14":0.3867185711860657,"15":-0.4310338497161865,"16":-0.5273630023002625,"17":0.6507866382598877,"18":1.0740269422531128,"19":-0.38165345788002014,"20":0.5509862303733826,"21":0.993413507938385,"22":-0.40636128187179565,"23":2.2514865398406982,"24":-0.08621594309806824,"25":-0.8301897048950195,"26":-0.22698071599006653,"27":-0.28945088386535645,"28":0.23968058824539185,"29":0.09704528748989105,"30":-0.38222023844718933,"31":2.356092929840088}},"17":{"bias":-0.10034490376710892,"weights":{"0":-0.27237656712532043,"1":0.09078292548656464,"2":-0.21847186982631683,"3":-0.15143045783042908,"4":-0.2382594347000122,"5":0.24884344637393951,"6":-0.28336480259895325,"7":0.2811836302280426,"8":-0.2761722505092621,"9":-0.18165647983551025,"10":-0.43707355856895447,"11":-0.23730206489562988,"12":-0.11485668271780014,"13":0.07836563885211945,"14":0.07467367500066757,"15":-0.14438217878341675,"16":-0.09527385979890823,"17":0.11141843348741531,"18":0.18981172144412994,"19":-0.16753804683685303,"20":0.1424754559993744,"21":0.20815852284431458,"22":-0.17072534561157227,"23":1.3261966705322266,"24":0.03580181673169136,"25":-0.07693333178758621,"26":-0.06731332093477249,"27":0.03560362011194229,"28":-0.0029374363366514444,"29":-0.26026907563209534,"30":-0.027403024956583977,"31":0.8392121195793152}},"18":{"bias":0.14252084493637085,"weights":{"0":0.10324268788099289,"1":0.08858491480350494,"2":-0.003484907327219844,"3":-0.06963782012462616,"4":-0.13943685591220856,"5":0.02807149663567543,"6":0.25212714076042175,"7":-0.17979787290096283,"8":0.1426536738872528,"9":0.0044709681533277035,"10":0.04369711875915527,"11":-0.05304764583706856,"12":-0.025686385110020638,"13":0.10543092340230942,"14":0.009488902986049652,"15":0.061421021819114685,"16":0.1813032627105713,"17":-0.21233494579792023,"18":-0.18053199350833893,"19":0.0265336986631155,"20":-0.2705775201320648,"21":-0.2416660338640213,"22":-0.04358336701989174,"23":-0.5606237649917603,"24":0.04434836283326149,"25":0.12578436732292175,"26":-0.007544859778136015,"27":0.011696751229465008,"28":0.12347706407308578,"29":-0.1272251456975937,"30":0.16302447021007538,"31":-0.6702409982681274}},"19":{"bias":-0.34615039825439453,"weights":{"0":0.1259808987379074,"1":0.009794799610972404,"2":-0.006426746025681496,"3":0.0337873175740242,"4":0.07975441217422485,"5":-0.036538753658533096,"6":-0.15787078440189362,"7":0.061824869364500046,"8":-0.17499780654907227,"9":-0.13745585083961487,"10":-0.12358300387859344,"11":-0.09178760647773743,"12":-0.0016188394511118531,"13":-0.09577649086713791,"14":-0.03351576253771782,"15":-0.24911998212337494,"16":-0.1503208428621292,"17":0.21068274974822998,"18":0.19834475219249725,"19":-0.28186458349227905,"20":0.010621718131005764,"21":-0.1891859620809555,"22":0.03861239552497864,"23":0.6658223271369934,"24":0.07072093337774277,"25":-0.1064162626862526,"26":-0.061937082558870316,"27":-0.25866901874542236,"28":-0.11200127750635147,"29":-0.02130916714668274,"30":0.1411813646554947,"31":0.4039638638496399}},"20":{"bias":0.0660073533654213,"weights":{"0":-0.19356484711170197,"1":-0.030880112200975418,"2":-0.19745396077632904,"3":-0.10145324468612671,"4":-0.14729076623916626,"5":-0.006429481785744429,"6":-0.0897420197725296,"7":0.05897305905818939,"8":0.048482418060302734,"9":-0.03094908595085144,"10":-0.07226398587226868,"11":-0.21991673111915588,"12":-0.1257774531841278,"13":0.08906762301921844,"14":-0.12775160372257233,"15":0.08692600578069687,"16":-0.04175899177789688,"17":-0.27409008145332336,"18":-0.2219095677137375,"19":-0.13607169687747955,"20":-0.11242054402828217,"21":0.1383097618818283,"22":-0.23281477391719818,"23":0.08020446449518204,"24":-0.1384126842021942,"25":-0.11603619903326035,"26":-0.055084798485040665,"27":-0.058088839054107666,"28":-0.22589805722236633,"29":-0.1485924869775772,"30":-0.12501944601535797,"31":0.1230345368385315}},"21":{"bias":0.1676238775253296,"weights":{"0":0.37186115980148315,"1":0.14695920050144196,"2":0.3295423686504364,"3":-0.26445308327674866,"4":0.2414628267288208,"5":-0.11896068602800369,"6":0.4413805902004242,"7":-0.18156979978084564,"8":0.12482012063264847,"9":0.24179373681545258,"10":0.04947075620293617,"11":0.2633650600910187,"12":0.05337370187044144,"13":-0.26780208945274353,"14":-0.03755578026175499,"15":0.30381011962890625,"16":0.34851837158203125,"17":-0.17147912085056305,"18":-0.5033013820648193,"19":0.20659644901752472,"20":-0.08400431275367737,"21":-0.6224228143692017,"22":0.25623807311058044,"23":-0.46885156631469727,"24":-0.19311080873012543,"25":0.359485000371933,"26":-0.05855707451701164,"27":-0.09928027540445328,"28":-0.09995482116937637,"29":0.20568594336509705,"30":0.07246162742376328,"31":-0.766728401184082}},"22":{"bias":-0.20306037366390228,"weights":{"0":-0.8229801654815674,"1":0.01872209832072258,"2":-0.5377756953239441,"3":0.34419360756874084,"4":-0.10983908921480179,"5":0.3813942074775696,"6":-0.43216973543167114,"7":0.32984569668769836,"8":-0.5294056534767151,"9":-0.26115211844444275,"10":-0.436005175113678,"11":-0.33660343289375305,"12":-0.37058234214782715,"13":0.2863903343677521,"14":0.27525240182876587,"15":-0.4117699861526489,"16":-0.4227869212627411,"17":-0.03746164217591286,"18":0.22739480435848236,"19":-0.4058486819267273,"20":-0.05926414951682091,"21":0.5917378067970276,"22":-0.4266015589237213,"23":0.9966241717338562,"24":-0.01838243380188942,"25":-0.617779016494751,"26":-0.32659342885017395,"27":-0.13460379838943481,"28":0.11455664783716202,"29":0.10141759365797043,"30":-0.30641087889671326,"31":1.151290774345398}},"23":{"bias":-0.02431311644613743,"weights":{"0":-0.18478700518608093,"1":-0.25925251841545105,"2":-0.21396233141422272,"3":0.035068023949861526,"4":0.04105794057250023,"5":-0.18682999908924103,"6":-0.17026183009147644,"7":-0.1004972755908966,"8":0.08386453241109848,"9":0.1236017644405365,"10":-0.14655420184135437,"11":-0.17389219999313354,"12":0.11420311778783798,"13":-0.12554031610488892,"14":-0.14866039156913757,"15":0.04936064034700394,"16":-0.03585631772875786,"17":-0.18275907635688782,"18":-0.2569540739059448,"19":0.10041658580303192,"20":-0.052175574004650116,"21":-0.05126242712140083,"22":-0.10179322957992554,"23":0.4086642563343048,"24":-0.11730032414197922,"25":0.08037356287240982,"26":-0.24036240577697754,"27":-0.03569239377975464,"28":0.019174136221408844,"29":-0.1387258619070053,"30":-0.07372128218412399,"31":0.21837551891803741}},"24":{"bias":0.01298019289970398,"weights":{"0":0.5645186901092529,"1":-0.15372958779335022,"2":0.03104126639664173,"3":-0.08383458852767944,"4":0.21690285205841064,"5":-0.3258447051048279,"6":0.3953559398651123,"7":0.020374994724988937,"8":0.11996569484472275,"9":0.038318194448947906,"10":-0.008143563754856586,"11":0.07171895354986191,"12":0.18012866377830505,"13":-0.09746253490447998,"14":-0.24600738286972046,"15":0.2765727639198303,"16":0.2995876669883728,"17":-0.20101739466190338,"18":-0.33278748393058777,"19":0.23061126470565796,"20":-0.2282915562391281,"21":-0.41051068902015686,"22":0.038572005927562714,"23":-0.591810941696167,"24":0.02619239315390587,"25":0.5153845548629761,"26":0.1524021327495575,"27":0.27451786398887634,"28":0.22702284157276154,"29":-0.1630745828151703,"30":0.07617964595556259,"31":-0.863147497177124}},"25":{"bias":0.07734566926956177,"weights":{"0":0.03266353905200958,"1":-0.20646066963672638,"2":0.17221075296401978,"3":-0.26236510276794434,"4":0.057440489530563354,"5":-0.016477761790156364,"6":0.2470085769891739,"7":-0.25345778465270996,"8":-0.027705026790499687,"9":-0.07080602645874023,"10":0.09933404624462128,"11":0.20827050507068634,"12":-0.16965432465076447,"13":-0.2955605983734131,"14":-0.16364330053329468,"15":0.17142057418823242,"16":0.2143329679965973,"17":-0.03365156427025795,"18":-0.19391600787639618,"19":0.08164196461439133,"20":0.15710440278053284,"21":-0.38756805658340454,"22":-0.0859704241156578,"23":0.15523478388786316,"24":-0.054186735302209854,"25":-0.03727125748991966,"26":-0.12074149399995804,"27":0.1031552106142044,"28":-0.15128649771213531,"29":0.14854677021503448,"30":0.17836013436317444,"31":-0.2204626500606537}},"26":{"bias":-0.17662999033927917,"weights":{"0":-0.27148839831352234,"1":0.12130492180585861,"2":0.031645454466342926,"3":-0.09289522469043732,"4":-0.002386640990152955,"5":0.03744414076209068,"6":-0.07678892463445663,"7":0.04217972978949547,"8":-0.095321886241436,"9":-0.25455808639526367,"10":-0.1579437106847763,"11":0.12083350121974945,"12":-0.024022959172725677,"13":0.044879000633955,"14":0.18829533457756042,"15":-0.2423967868089676,"16":0.04566585272550583,"17":0.15046294033527374,"18":0.0830676332116127,"19":-0.14132772386074066,"20":-0.10054028779268265,"21":0.1130840927362442,"22":-0.24841952323913574,"23":0.7377057075500488,"24":-0.1885308027267456,"25":-0.23352867364883423,"26":-0.290306955575943,"27":-0.23616501688957214,"28":-0.18264150619506836,"29":0.0198819562792778,"30":-0.14773891866207123,"31":0.23075783252716064}},"27":{"bias":0.0350777767598629,"weights":{"0":0.6086418032646179,"1":0.11479885876178741,"2":0.00371440127491951,"3":0.011451425962150097,"4":0.048825692385435104,"5":-0.417860746383667,"6":0.44421422481536865,"7":-0.11953079700469971,"8":0.22498548030853271,"9":0.11570248007774353,"10":-0.09922276437282562,"11":0.2178598940372467,"12":0.04585671424865723,"13":-0.0748259425163269,"14":-0.21628743410110474,"15":0.15440991520881653,"16":0.23823979496955872,"17":-0.013234822079539299,"18":-0.42873838543891907,"19":0.3701086938381195,"20":0.046995293349027634,"21":-0.4805198907852173,"22":0.269176721572876,"23":-0.46975719928741455,"24":-0.24321728944778442,"25":0.5514116287231445,"26":0.22098933160305023,"27":-0.09451643377542496,"28":-0.024966303259134293,"29":-0.10259684920310974,"30":0.06608755141496658,"31":-0.836769163608551}},"28":{"bias":0.084783174097538,"weights":{"0":0.670586347579956,"1":0.07643065601587296,"2":0.3245116174221039,"3":-0.29670536518096924,"4":0.22459210455417633,"5":-0.1980399340391159,"6":0.522163987159729,"7":-0.5152624845504761,"8":0.5181421041488647,"9":0.3902435302734375,"10":0.277739942073822,"11":0.21863120794296265,"12":0.320253849029541,"13":-0.27535244822502136,"14":-0.4339861273765564,"15":0.2807520925998688,"16":0.34924474358558655,"17":-0.46723365783691406,"18":-0.7905858755111694,"19":0.2537683844566345,"20":-0.2280661016702652,"21":-0.7105514407157898,"22":0.21143709123134613,"23":-0.5339374542236328,"24":0.2067580670118332,"25":0.7891389727592468,"26":0.28125113248825073,"27":0.2939032316207886,"28":-0.06250407546758652,"29":0.2720399498939514,"30":0.35215309262275696,"31":-1.1685738563537598}},"29":{"bias":-0.022275833413004875,"weights":{"0":0.4179568290710449,"1":0.05660243704915047,"2":0.04122294485569,"3":-0.2986688017845154,"4":-0.1180240735411644,"5":-0.26713627576828003,"6":0.42237207293510437,"7":-0.22451560199260712,"8":0.30695584416389465,"9":0.1943482607603073,"10":0.26659753918647766,"11":0.00015424087177962065,"12":0.20930786430835724,"13":-0.18086925148963928,"14":0.06799671798944473,"15":0.28564563393592834,"16":0.3075377941131592,"17":0.11228334158658981,"18":-0.5067793726921082,"19":0.4120867848396301,"20":0.09525328874588013,"21":-0.6999372839927673,"22":0.18328280746936798,"23":-0.3173396587371826,"24":0.09362895786762238,"25":0.4058936536312103,"26":0.08452734351158142,"27":0.17532673478126526,"28":-0.08100856095552444,"29":0.020573073998093605,"30":0.03861690312623978,"31":-0.9090309143066406}},"30":{"bias":-0.34627968072891235,"weights":{"0":0.6049997806549072,"1":-0.31790292263031006,"2":0.10697250813245773,"3":-0.11509189754724503,"4":-0.05946164205670357,"5":-0.3335444927215576,"6":0.20818988978862762,"7":-0.22890661656856537,"8":0.1581384837627411,"9":0.12114421278238297,"10":-0.09690851718187332,"11":0.058090995997190475,"12":-0.054894156754016876,"13":-0.39144057035446167,"14":-0.11713819950819016,"15":-0.1897682249546051,"16":0.22107373178005219,"17":0.18385033309459686,"18":-0.14274978637695312,"19":0.21148507297039032,"20":-0.07389913499355316,"21":-0.5069047808647156,"22":0.18917012214660645,"23":0.8727680444717407,"24":-0.2951187491416931,"25":0.4314325749874115,"26":-0.29401281476020813,"27":-0.13866950571537018,"28":0.006032784469425678,"29":-0.2277894914150238,"30":-0.20186442136764526,"31":-0.012274831533432007}},"31":{"bias":-0.1170458048582077,"weights":{"0":-0.3947204053401947,"1":-0.1816452294588089,"2":-0.15387271344661713,"3":0.25365886092185974,"4":-0.10723484307527542,"5":0.18376915156841278,"6":-0.48331522941589355,"7":0.18094776570796967,"8":-0.20992334187030792,"9":-0.21118156611919403,"10":-0.24848216772079468,"11":-0.20579759776592255,"12":-0.32014456391334534,"13":-0.17610237002372742,"14":0.3491806387901306,"15":-0.08267764747142792,"16":-0.3823906183242798,"17":0.20185336470603943,"18":0.4484201669692993,"19":-0.30727291107177734,"20":0.3839353919029236,"21":0.4286722242832184,"22":-0.20215371251106262,"23":1.0841748714447021,"24":-0.08449486643075943,"25":-0.2300405651330948,"26":-0.09074858576059341,"27":-0.3099769353866577,"28":-0.13278518617153168,"29":0.05018939450383186,"30":-0.15819799900054932,"31":1.1688786745071411}}},{"0":{"bias":-0.29601162672042847,"weights":{"0":-0.3923523426055908,"1":-0.20988649129867554,"2":0.10447385907173157,"3":-0.43644073605537415,"4":-0.2466447502374649,"5":-0.3462505042552948,"6":-0.17068366706371307,"7":-0.12624146044254303,"8":-0.6370300650596619,"9":-0.4535515010356903,"10":-0.21337836980819702,"11":-0.4018796980381012,"12":-0.32348743081092834,"13":-0.4582562744617462,"14":-0.06857814639806747,"15":-0.11818445473909378,"16":-0.5422908067703247,"17":-0.3636680543422699,"18":-0.09403255581855774,"19":-0.1780567467212677,"20":-0.17665396630764008,"21":-0.006910896860063076,"22":-0.24255861341953278,"23":-0.05718390643596649,"24":-0.11074024438858032,"25":-0.04350253567099571,"26":-0.2898641526699066,"27":-0.06194831058382988,"28":-0.12160135060548782,"29":0.012427369132637978,"30":-0.19027714431285858,"31":-0.38696253299713135}},"1":{"bias":-0.5228366851806641,"weights":{"0":-0.24849361181259155,"1":-0.09869709610939026,"2":-0.30666249990463257,"3":-0.08295560628175735,"4":-0.3188832402229309,"5":-0.21166352927684784,"6":-0.26384738087654114,"7":-0.34051790833473206,"8":0.0039215474389493465,"9":-0.401828795671463,"10":-0.2270476520061493,"11":-0.3158029317855835,"12":-0.05403325334191322,"13":-0.030784329399466515,"14":-0.3569548726081848,"15":-0.12105918675661087,"16":0.012107519432902336,"17":-0.23666992783546448,"18":-0.2735605835914612,"19":-0.06631635874509811,"20":-0.1571887582540512,"21":-0.2806601822376251,"22":-0.1726803332567215,"23":-0.06351689249277115,"24":-0.3043501675128937,"25":-0.30510929226875305,"26":-0.03351232036948204,"27":-0.25357338786125183,"28":-0.20093707740306854,"29":-0.4416719675064087,"30":-0.3838788568973541,"31":-0.1442020982503891}},"2":{"bias":-0.29713788628578186,"weights":{"0":-0.5824882984161377,"1":0.09822843223810196,"2":0.10211610049009323,"3":-0.47096967697143555,"4":-0.5224980711936951,"5":-0.5152209997177124,"6":-0.1474415808916092,"7":-0.2331669181585312,"8":-0.692832887172699,"9":-0.39224985241889954,"10":-0.015498153865337372,"11":-0.4889567792415619,"12":-0.09833896160125732,"13":-0.4165538251399994,"14":-0.38983121514320374,"15":-0.03570137917995453,"16":-0.6042942404747009,"17":-0.31706321239471436,"18":0.05245478078722954,"19":-0.28718867897987366,"20":0.007084875367581844,"21":-0.16028261184692383,"22":-0.5540471076965332,"23":-0.1709459275007248,"24":0.1345057338476181,"25":-0.0492648221552372,"26":-0.031168654561042786,"27":-0.12515653669834137,"28":0.29083606600761414,"29":-0.07000315189361572,"30":-0.06839103996753693,"31":-0.30947503447532654}},"3":{"bias":-0.14503216743469238,"weights":{"0":-0.2561110854148865,"1":0.09045673906803131,"2":0.012693222612142563,"3":-0.4007527828216553,"4":-0.4966842234134674,"5":-0.3826541006565094,"6":-0.04865672066807747,"7":-0.014046570286154747,"8":-0.7991260290145874,"9":-0.4694364368915558,"10":-0.09212422370910645,"11":-0.5486627817153931,"12":-0.19691798090934753,"13":-0.42938661575317383,"14":-0.36517205834388733,"15":-0.28188925981521606,"16":-0.4839371144771576,"17":-0.1389511525630951,"18":0.0067183696664869785,"19":-0.22135688364505768,"20":-0.18175163865089417,"21":-0.1484730988740921,"22":-0.5019465684890747,"23":0.014749542810022831,"24":-0.10233234614133835,"25":-0.16349026560783386,"26":-0.3951553404331207,"27":0.0054208142682909966,"28":-0.11956758797168732,"29":0.050176654011011124,"30":-0.07795252650976181,"31":-0.4289402961730957}},"4":{"bias":0.6238660216331482,"weights":{"0":-1.4662940502166748,"1":0.998875081539154,"2":0.7360928058624268,"3":-1.0070470571517944,"4":-1.5315738916397095,"5":-0.48826533555984497,"6":-0.13015632331371307,"7":0.17900647222995758,"8":-1.7284786701202393,"9":-0.10216999799013138,"10":-0.07714865356683731,"11":-2.0578694343566895,"12":-0.0738709419965744,"13":-1.179304599761963,"14":-0.7217933535575867,"15":0.515286386013031,"16":-1.4179234504699707,"17":-0.6917508840560913,"18":0.9926912784576416,"19":-0.17092560231685638,"20":0.3067370057106018,"21":0.9046761989593506,"22":-0.23985105752944946,"23":0.14038512110710144,"24":1.0017012357711792,"25":0.25459757447242737,"26":-0.16057148575782776,"27":0.838939905166626,"28":1.3018009662628174,"29":0.783535897731781,"30":-0.43270161747932434,"31":-0.5478801131248474}},"5":{"bias":-0.5123106241226196,"weights":{"0":-0.312766969203949,"1":-0.09734061360359192,"2":-0.16351458430290222,"3":-0.18460926413536072,"4":-0.028497446328401566,"5":-0.08646935969591141,"6":-0.11665131151676178,"7":-0.2924744188785553,"8":0.04271361976861954,"9":-0.22540046274662018,"10":-0.2336718738079071,"11":-0.1951407790184021,"12":-0.1272009015083313,"13":-0.11665815114974976,"14":-0.351450651884079,"15":-0.11490889638662338,"16":-0.2596665024757385,"17":-0.11742669343948364,"18":-0.2672906517982483,"19":-0.3667849898338318,"20":-0.0985332727432251,"21":-0.2704836130142212,"22":-0.27481216192245483,"23":-0.3539966344833374,"24":-0.41551777720451355,"25":-0.036217473447322845,"26":-0.2799258232116699,"27":-0.3950870931148529,"28":-0.32276245951652527,"29":-0.3140142261981964,"30":-0.3152870237827301,"31":-0.07364394515752792}},"6":{"bias":-0.29607895016670227,"weights":{"0":-0.5001492500305176,"1":0.10288522392511368,"2":-0.19188910722732544,"3":-0.20873725414276123,"4":-0.6235292553901672,"5":-0.5387144684791565,"6":-0.08404149115085602,"7":-0.029768528416752815,"8":-0.7799373269081116,"9":-0.3365592062473297,"10":-0.22853974997997284,"11":-0.6435319185256958,"12":-0.040041234344244,"13":-0.4398125410079956,"14":-0.11798050254583359,"15":0.1464662104845047,"16":-0.4566316604614258,"17":-0.47959327697753906,"18":0.08600323647260666,"19":-0.2770392596721649,"20":0.04282894358038902,"21":-0.0605209618806839,"22":-0.23958620429039001,"23":0.007502792868763208,"24":0.09191477298736572,"25":-0.2572149634361267,"26":-0.31581056118011475,"27":0.12005622684955597,"28":0.048744603991508484,"29":-0.09718912839889526,"30":-0.09487172961235046,"31":-0.437263160943985}},"7":{"bias":-0.26140159368515015,"weights":{"0":-0.17950811982154846,"1":-0.4336570203304291,"2":-0.23212362825870514,"3":-0.11428813636302948,"4":-0.46223005652427673,"5":-0.3210827708244324,"6":-0.2790670096874237,"7":-0.058751095086336136,"8":-0.4326498508453369,"9":-0.31893807649612427,"10":-0.3020475506782532,"11":-0.19639195501804352,"12":-0.06447284668684006,"13":-0.12760232388973236,"14":-0.08525167405605316,"15":-0.2979201078414917,"16":-0.34172284603118896,"17":-0.2638047933578491,"18":-0.148680180311203,"19":-0.15456253290176392,"20":0.010907059535384178,"21":-0.1301250159740448,"22":-0.2418462038040161,"23":-0.24223746359348297,"24":-0.2421104460954666,"25":-0.144942507147789,"26":-0.32190003991127014,"27":-0.2921984791755676,"28":-0.3785891830921173,"29":-0.09348969906568527,"30":-0.24656298756599426,"31":-0.08246789872646332}},"8":{"bias":-0.9357336759567261,"weights":{"0":0.3795362412929535,"1":-0.6687191724777222,"2":-0.8306370377540588,"3":0.3918032646179199,"4":0.1153012290596962,"5":1.17490553855896,"6":-0.4016989767551422,"7":-0.6762733459472656,"8":1.4765466451644897,"9":-0.03102213330566883,"10":-0.2813977599143982,"11":0.2287948876619339,"12":0.007889972999691963,"13":0.12030775099992752,"14":-0.15068168938159943,"15":-0.8400775194168091,"16":0.9380190372467041,"17":0.1856505423784256,"18":-0.37917643785476685,"19":-0.37387776374816895,"20":0.06131422892212868,"21":-0.8105509281158447,"22":0.563154399394989,"23":-0.27458441257476807,"24":-0.6917680501937866,"25":-0.6250184178352356,"26":-0.10934347659349442,"27":-0.9934221506118774,"28":-1.1079788208007812,"29":-1.0248836278915405,"30":-0.93714839220047,"31":0.3274327218532562}},"9":{"bias":-0.2435838282108307,"weights":{"0":-0.25825774669647217,"1":-0.0886639729142189,"2":-0.19521325826644897,"3":-0.404601126909256,"4":-0.2753691077232361,"5":-0.32047030329704285,"6":-0.17947417497634888,"7":-0.23736345767974854,"8":-0.3790097236633301,"9":-0.25528162717819214,"10":-0.17504210770130157,"11":-0.3750133216381073,"12":-0.08515045046806335,"13":-0.13439440727233887,"14":-0.2824743688106537,"15":0.027838144451379776,"16":-0.4907921254634857,"17":-0.4411138892173767,"18":-0.22013038396835327,"19":-0.27919989824295044,"20":-0.18351896107196808,"21":-0.10087918490171432,"22":-0.5467569828033447,"23":-0.2683372497558594,"24":0.0402798131108284,"25":-0.030911505222320557,"26":-0.3950809836387634,"27":-0.17152956128120422,"28":-0.09839397668838501,"29":-0.023591499775648117,"30":-0.3148471713066101,"31":-0.4397590160369873}},"10":{"bias":-0.17001928389072418,"weights":{"0":-0.5881462693214417,"1":0.025531884282827377,"2":0.10857976227998734,"3":-0.28247013688087463,"4":-0.3205367624759674,"5":-0.5024505853652954,"6":-0.025361893698573112,"7":-0.06284189224243164,"8":-0.663913369178772,"9":-0.3225994408130646,"10":-0.12885485589504242,"11":-0.6278277635574341,"12":-0.26220938563346863,"13":-0.4851905107498169,"14":-0.29693397879600525,"15":-0.015011808834969997,"16":-0.6746456623077393,"17":-0.28572753071784973,"18":0.011905007995665073,"19":-0.3596172630786896,"20":-0.1667785942554474,"21":0.006905359216034412,"22":-0.34674444794654846,"23":-0.1181088462471962,"24":-0.15543721616268158,"25":0.006907380186021328,"26":-0.08967608958482742,"27":-0.16201631724834442,"28":0.2585916221141815,"29":-0.15513625741004944,"30":-0.33858004212379456,"31":-0.31552812457084656}},"11":{"bias":-0.3936249017715454,"weights":{"0":-0.22824926674365997,"1":-0.30001017451286316,"2":-0.32750314474105835,"3":-0.1108863428235054,"4":-0.46501991152763367,"5":-0.24482521414756775,"6":-0.36466068029403687,"7":-0.18848493695259094,"8":-0.3210042119026184,"9":-0.1660757213830948,"10":-0.2636277377605438,"11":-0.3278160095214844,"12":-0.33068132400512695,"13":-0.1521218717098236,"14":-0.1315191239118576,"15":-0.000936507189180702,"16":-0.2898193895816803,"17":-0.4247935116291046,"18":-0.14912983775138855,"19":-0.18448738753795624,"20":-0.2724668085575104,"21":-0.09895074367523193,"22":-0.21304012835025787,"23":-0.09415463358163834,"24":-0.3291245698928833,"25":-0.20932099223136902,"26":-0.14317601919174194,"27":-0.02446693554520607,"28":-0.21655631065368652,"29":-0.18308283388614655,"30":-0.031049760058522224,"31":-0.21994297206401825}},"12":{"bias":-0.20631715655326843,"weights":{"0":-0.07434967160224915,"1":-0.35715922713279724,"2":-0.2720714807510376,"3":-0.18087516725063324,"4":-0.35219889879226685,"5":-0.3062534034252167,"6":-0.20776917040348053,"7":-0.3028007745742798,"8":-0.40080660581588745,"9":-0.051737599074840546,"10":-0.35854604840278625,"11":-0.40607765316963196,"12":0.006766784470528364,"13":-0.28805407881736755,"14":-0.39069563150405884,"15":-0.3057362139225006,"16":-0.14634381234645844,"17":-0.20931309461593628,"18":-0.1226402148604393,"19":-0.36353904008865356,"20":-0.06081847846508026,"21":-0.17979533970355988,"22":-0.11073949187994003,"23":-0.017538057640194893,"24":-0.16765736043453217,"25":-0.16719092428684235,"26":-0.17567560076713562,"27":-0.11359267681837082,"28":-0.35680094361305237,"29":-0.19111377000808716,"30":-0.38273927569389343,"31":-0.27103084325790405}},"13":{"bias":0.5348241925239563,"weights":{"0":-0.6456066370010376,"1":0.9229312539100647,"2":1.008817195892334,"3":-0.4701780378818512,"4":-0.4134494960308075,"5":-2.118572473526001,"6":0.2451283186674118,"7":0.857643187046051,"8":-1.9845058917999268,"9":0.17086653411388397,"10":0.2929942011833191,"11":-0.8384695053100586,"12":-0.15359070897102356,"13":0.08154506981372833,"14":0.1642373651266098,"15":0.8453823328018188,"16":-1.6391239166259766,"17":0.06025098264217377,"18":0.6055855751037598,"19":0.015632107853889465,"20":0.09768333286046982,"21":1.0440998077392578,"22":-0.9505454897880554,"23":0.14362718164920807,"24":1.0834131240844727,"25":0.5754055976867676,"26":-0.0016685188747942448,"27":1.1388227939605713,"28":1.6137150526046753,"29":1.0698180198669434,"30":0.9655439257621765,"31":-0.4181155562400818}},"14":{"bias":-0.2169685661792755,"weights":{"0":-0.23489603400230408,"1":-0.3247148394584656,"2":0.03777967393398285,"3":-0.18128585815429688,"4":-0.14436864852905273,"5":-0.27780038118362427,"6":-0.29500487446784973,"7":-0.06342162936925888,"8":-0.6540110111236572,"9":-0.4654921591281891,"10":-0.350182443857193,"11":-0.45328405499458313,"12":0.03062141314148903,"13":-0.21784910559654236,"14":-0.40950194001197815,"15":-0.1476823091506958,"16":-0.5415611863136292,"17":-0.4176490902900696,"18":-0.0962662547826767,"19":-0.08395663648843765,"20":-0.33490175008773804,"21":-0.14408043026924133,"22":-0.13616843521595,"23":-0.06693513691425323,"24":0.05923493206501007,"25":-0.2629559338092804,"26":-0.12234881520271301,"27":-0.0800836905837059,"28":-0.24586983025074005,"29":-0.17702773213386536,"30":-0.2384428232908249,"31":-0.3031509816646576}},"15":{"bias":0.052207671105861664,"weights":{"0":-0.7593515515327454,"1":0.4940873086452484,"2":0.5395285487174988,"3":-0.48432135581970215,"4":-0.7383188605308533,"5":-0.7872946858406067,"6":0.019236469641327858,"7":-0.09145748615264893,"8":-1.2783218622207642,"9":-0.3301524221897125,"10":0.024509146809577942,"11":-1.2463198900222778,"12":-0.27217718958854675,"13":-0.4240874946117401,"14":-0.5655134916305542,"15":0.4088379144668579,"16":-0.9053723216056824,"17":-0.3848346471786499,"18":0.2776312530040741,"19":-0.10353154689073563,"20":0.14424599707126617,"21":0.5415807366371155,"22":-0.6298549771308899,"23":-0.23306338489055634,"24":0.3047995865345001,"25":0.20532403886318207,"26":-0.13650363683700562,"27":0.2701275944709778,"28":0.7160022258758545,"29":0.4748694598674774,"30":-0.059272587299346924,"31":-0.5694864392280579}}},{"0":{"bias":0.0829552412033081,"weights":{"0":-0.4909786283969879,"1":0.03712295740842819,"2":-0.7751186490058899,"3":-0.6031382083892822,"4":-3.1632277965545654,"5":0.029942432418465614,"6":-0.7287371158599854,"7":-0.11406829208135605,"8":1.6448692083358765,"9":-0.30078479647636414,"10":-0.70714271068573,"11":-0.14046968519687653,"12":-0.16903242468833923,"13":-0.6429949998855591,"14":-0.3116098642349243,"15":-1.784258484840393}},"1":{"bias":-3.991788625717163,"weights":{"0":-0.7900350093841553,"1":-0.8218533396720886,"2":-0.6954814791679382,"3":-1.277056336402893,"4":-0.4218953847885132,"5":-0.5816470980644226,"6":-1.0499988794326782,"7":-1.224642276763916,"8":-0.5869308710098267,"9":-1.2838250398635864,"10":-0.7270721793174744,"11":-1.0281299352645874,"12":-0.4706804156303406,"13":-0.6733088493347168,"14":-1.0274561643600464,"15":-0.7335380911827087}}}],"outputLookup":false,"inputLookup":false,"activation":"sigmoid","trainOpts":{"iterations":5000,"errorThresh":0.0001,"log":true,"logPeriod":100,"learningRate":0.3,"momentum":0.1,"callbackPeriod":10,"beta1":0.9,"beta2":0.999,"epsilon":1e-8}}';

const MM = 100;
const mm = 1;
function dn(x)
{
	y = x * (MM - mm) + mm;
	return Math.round(y);
}

const config = {
  
  hiddenLayers: [32,32,16], // array of ints for the sizes of the hidden layers in the network
  activation: 'sigmoid' // supported activation types: ['sigmoid', 'relu', 'leaky-relu', 'tanh']
};

var net = new brain.NeuralNetwork(config);

var nn = net.fromJSON(JSON.parse(jnn));

console.log("ok");

function norm(x)
{
	return (x - mm) / (MM - mm);
}

function getBN(sf)
{
	var input = [norm(window.Vars.obstacle.x_up * sf), norm(window.Vars.obstacle.y_up * sf), norm(window.Vars.obstacle.x_down * sf), norm(window.Vars.obstacle.y_down * sf)];
	var bn = net.run(input);
	bn[0] = dn(bn[0]) / sf;
	bn[1] = dn(bn[1]);
	var test = testEllipse(100, window.Vars.obstacle.x_up * sf, window.Vars.obstacle.y_up, window.Vars.obstacle.x_down * sf, window.Vars.obstacle.y_down, bn[0], bn[1]);	
	if(test > 1)
	{
		console.log(test);
		bn = ellipseParams(100, window.Vars.obstacle.x_up * sf, window.Vars.obstacle.y_up, window.Vars.obstacle.x_down * sf, window.Vars.obstacle.y_down);
	}
	return bn;
}

async function moveToOD(Params, Vars, tgt)
{
	await timeout(50);
		if(window.Vars.obstacle == null)
		{
			await driveTo(Params, Vars, tgt);
			return;		
		}
		var cur_x = parseFloat($("#x").val() + "");
		var cur_y = parseFloat($("#y").val() + "");
		var cur_z = parseFloat($("#z").val() + "");
		var cur_rx = parseFloat($("#rx").val() + "");
		var cur_ry = parseFloat($("#ry").val() + "");
		var cur_rz = parseFloat($("#rz").val() + "");
		
		var increment_x = (tgt.tcp.x - cur_x) / 101;
		var increment_y = (tgt.tcp.y - cur_y) / 101;
		var increment_z = (tgt.tcp.z - cur_z) / 101;
		
		var max_z = Vars.obstacle.y_up;
		
		var sf = 100 / window.Vars.obstacle.dist;
		
		//var points = generateEllipsePoints(100,bn[0],bn[1]);
		var x_tgt = 100;
		
		var bn = getBN(sf);
		for(var i=0;i<101;i++)
		{
			var target = {tcp: {}};
			target.tcp.x = cur_x + (i + 1) * increment_x;
			target.tcp.y = cur_y + (i + 1) * increment_y;

			if(window.Vars.obstacle != null && Math.abs(window.Vars.obstacle.x_up - window.Vars.obstacle.x_down) > 0.01)
			{
				var bn1 = getBN(sf);
				if(bn1[0] > bn[0])
				{
					bn = bn1;					
				}
			}

			var x = i - 50;
			var b = bn[0];
			var n = bn[1];
			
			var ey = b * Math.pow((1 - Math.pow(Math.abs(x/(x_tgt/2)),n)),(1/n));
			
			target.tcp.z = cur_z + ey + (i + 1) * increment_z;
			
			
			target.tcp.rx = cur_rx;
			target.tcp.ry = cur_ry;
			target.tcp.rz = cur_rz;
			
			await driveTo(Params, Vars, target);
		}
		
		Robot.origin = null;
		

}
